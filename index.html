<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Malaysia Weather Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <script src="vega_lite_vis.js" defer></script>
</head>
<body>
  <header>
    <h1>Malaysia Weather Dashboard</h1>
    <p class="intro">
      This dashboard presents Malaysia's weather trends.<br>
      Data spans from October 2024 to October 2025.
    </p>
  </header>

  <!-- Temperature Map Section -->
  <section class="section">
    <div class="card">
      <h2>Hourly Temperature by Malaysian State</h2>
      <div class="content-block center-align">
        <div id="map" class="vis-block"></div>
        <div class="annotation">
          <p>At 12 PM, inland states show elevated temperatures, often exceeding <span class="hotter">28°C</span>. Coastal and highland regions remain relatively <span class="cooler">cooler</span>, around <span class="cooler">25°C</span>.</p>
          <p>Evening hours (e.g., 8 PM) reveal a cooling trend across most regions; East Malaysia shows more stable temperatures compared to the peninsula.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Scatter + Bar Charts Section -->
  <section class="section">
    <div class="card">
      <h2>Weather Relationships and Monthly Averages</h2>
      <div class="content-block left-text-right-vis">
        <div class="annotation center-text center-align-text">
          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
          <p><strong>1) Main pattern</strong><br>
            Most observations fall at low precipitation (< 0.5 in) and relatively high humidity (~70–85%). This indicates
            many humid days with only light or no measurable rain — typical for tropical climates with frequent cloudiness but
            intermittent heavy showers.</p>

          <p><strong>2) Extreme events</strong><br>
            Large rainfall events are rare in the dataset but notable when they occur. For example, <span style="color:#ff9896">April</span>
            contains the single largest recorded daily rainfall (~3.2 in on 2025-04-23). These extremes coincide with very high humidity,
            reinforcing that heavy rain events happen during saturated atmospheric conditions.</p>

          <p><strong>3) Wind relationship</strong><br>
            Point size encodes wind speed. There is no strong positive correlation between wind speed and rainfall magnitude in the scatter:
            strong winds appear both with small and moderate precipitation values, so wind alone is not a reliable predictor of heavy rainfall
            in this record.</p>
          <hr>
        
          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
          <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
         <p><strong>4) Cloudcover</strong><br>
            Average cloud cover peaks around <span style="color:#ff9896">April</span> (~40–43%) and is lowest in <span style="color:#fdd0a2">October</span>
            (~28%). April's higher cloudiness aligns with the month’s larger rain events.</p>

          <p><strong>5) Visibility</strong><br>
            Monthly visibility is generally steady (~5.8–6.2 km). Slightly better visibility appears in
            <span style="color:#fdd0a2">October</span> and <span style="color:#ffbb78">February</span>, consistent with lower cloud and clearer skies.</p>

          <p><strong>6) Solar radiation</strong><br>
            Solar radiation increases from early‑year values (e.g. <span style="color:#aec7e8">January</span>) toward a peak in
            <span style="color:#fdd0a2">October</span>, matching the drop in cloudcover and implying stronger sunshine potential in October.</p>

          <p><strong>7) Moonphase & seasonality</strong><br>
            Moonphase averages show little month‑to‑month variability (no clear seasonal signal). Overall seasonal signals are stronger in
            precipitation, cloudcover and solar radiation.</p>
        </div>
        <div id="precipitation" class="vis-block"></div>
      </div>
    </div>
  </section>

  <!-- Line Chart Section -->
  <section class="section">
    <div class="card">
      <h2>Monthly Weather Metrics</h2>
      <div class="content-block center-align">
        <div id="metrics" class="vis-block"></div>
        <div class="annotation color-annotation">
          <p><span class="precip">Precipitation</span> peaks in April, drops mid-year, then rises toward the end of the year.</p>
          <p><span class="humidity">Humidity</span> stays high year-round with a slight dip mid-year.</p>
          <p><span class="windspeed">Wind speed</span> increases early-year then stabilizes.</p>
          <p><span class="uvindex">UV index</span> is elevated and peaks near October.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <p>© 2025 FIT3179 Data Visualisation Assignment 2</p>
    <p>Created by Chen Ching Ling | Monash University</p>
    <p>
      Data Sources:
      <a href="https://open-meteo.com/en/docs/historical-weather-api" target="_blank">Open-Meteo API</a> &
      <a href="https://www.visualcrossing.com/weather-query-builder/" target="_blank">Visual Crossing</a>
    </p>
  </footer>
</body>
</html>
